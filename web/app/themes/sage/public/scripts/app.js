const l=e=>{window.requestAnimationFrame(async function t(){document.body?await e():window.requestAnimationFrame(t)})},d={init(){const e=document.getElementById("mobile-menu-toggle"),t=document.getElementById("mobile-menu"),o=document.getElementById("close-mobile-menu");!e||!t||(e.addEventListener("click",()=>{this.openMenu(t,e)}),o==null||o.addEventListener("click",()=>{this.closeMenu(t,e)}),t.querySelectorAll("a").forEach(n=>{n.addEventListener("click",()=>{this.closeMenu(t,e)})}),document.addEventListener("click",n=>{!e.contains(n.target)&&!t.contains(n.target)&&t.classList.contains("active")&&this.closeMenu(t,e)}))},openMenu(e,t){e.classList.add("active"),t.classList.add("active"),document.body.classList.add("menu-open","overflow-hidden");const o=document.createElement("div");o.className="menu-backdrop",o.id="menu-backdrop",document.body.appendChild(o)},closeMenu(e,t){e.classList.remove("active"),t.classList.remove("active"),document.body.classList.remove("menu-open","overflow-hidden");const o=document.getElementById("menu-backdrop");o&&o.remove(),document.querySelectorAll(".nav-menu-mobile .menu-item-has-children > a").forEach(s=>{const a=document.createElement("button");a.className="submenu-toggle",a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/></svg>',s.parentNode.appendChild(a),a.addEventListener("click",i=>{i.preventDefault(),i.stopPropagation();const c=s.parentNode.querySelector(".sub-menu");c&&(c.classList.toggle("active"),a.classList.toggle("active"))}),s.addEventListener("click",i=>{window.innerWidth<1024&&s.parentNode.querySelector(".sub-menu")&&i.preventDefault()})})}},u={players:{},init(){this.initCustomPlayers(),this.initVideoModals()},initCustomPlayers(){document.querySelectorAll(".video-player").forEach(t=>{const o=t.dataset.videoId,n=t.querySelector(".play-button");!o||!n||n.addEventListener("click",()=>{this.playVideo(t,o)})})},initVideoModals(){document.querySelectorAll("[data-video-modal]").forEach(t=>{const o=t.dataset.videoModal;t.addEventListener("click",n=>{n.preventDefault(),this.openVideoModal(o)})}),document.addEventListener("click",t=>{const o=document.querySelector(".video-modal.active");o&&!o.querySelector(".video-modal-content").contains(t.target)&&this.closeVideoModal(o)}),document.addEventListener("keydown",t=>{if(t.key==="Escape"){const o=document.querySelector(".video-modal.active");o&&this.closeVideoModal(o)}})},playVideo(e,t){t.includes("youtube")||t.match(/^[a-zA-Z0-9_-]{11}$/)?this.playYouTubeVideo(e,t):t.includes("vimeo")||t.match(/^\d+$/)?this.playVimeoVideo(e,t):this.playLocalVideo(e,t)},playYouTubeVideo(e,t){if(t.includes("youtube.com")||t.includes("youtu.be")){const n=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/,s=t.match(n);t=s?s[1]:t}const o=document.createElement("iframe");o.src=`https://www.youtube.com/embed/${t}?autoplay=1&rel=0`,o.width="100%",o.height="100%",o.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",o.allowFullscreen=!0,e.innerHTML="",e.appendChild(o)},playVimeoVideo(e,t){if(t.includes("vimeo.com")){const n=/vimeo\.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|)(\d+)(?:$|\/|\?)/,s=t.match(n);t=s?s[2]:t}const o=document.createElement("iframe");o.src=`https://player.vimeo.com/video/${t}?autoplay=1&title=0&byline=0&portrait=0`,o.width="100%",o.height="100%",o.allow="autoplay; fullscreen; picture-in-picture",o.allowFullscreen=!0,e.innerHTML="",e.appendChild(o)},playLocalVideo(e,t){const o=document.createElement("video");o.src=t.includes("/")?t:`/assets/videos/${t}.mp4`,o.controls=!0,o.autoplay=!0,o.width="100%",o.height="100%",e.innerHTML="",e.appendChild(o)},openVideoModal(e){let t=document.querySelector(".video-modal");t||(t=document.createElement("div"),t.className="video-modal",t.innerHTML=`
        <div class="video-modal-content">
          <button class="video-modal-close">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
          <div class="video-player" data-video-id="${e}"></div>
        </div>
      `,document.body.appendChild(t),t.querySelector(".video-modal-close").addEventListener("click",()=>{this.closeVideoModal(t)})),setTimeout(()=>{t.classList.add("active"),document.body.classList.add("modal-open");const o=t.querySelector(".video-player");this.playVideo(o,e)},10)},closeVideoModal(e){e.classList.remove("active"),document.body.classList.remove("modal-open"),setTimeout(()=>{const t=e.querySelector(".video-player");t.innerHTML=""},300)}},m={init(){this.initForms(),this.initValidation()},initForms(){document.querySelectorAll("form").forEach(t=>{if(t.classList.contains("no-ajax")||t.getAttribute("data-no-ajax")==="true")return;const o=t.hasAttribute("data-ghl-form");t.addEventListener("submit",n=>{n.preventDefault(),this.validateForm(t)&&(o?this.submitGhlForm(t):this.submitForm(t))})})},initValidation(){document.querySelectorAll("input, textarea, select").forEach(t=>{t.classList.contains("no-validate")||t.getAttribute("data-no-validate")==="true"||(t.addEventListener("blur",()=>{this.validateInput(t)}),t.addEventListener("focus",()=>{this.clearInputError(t)}))})},validateForm(e){let t=!0;return e.querySelectorAll("input, textarea, select").forEach(n=>{n.classList.contains("no-validate")||n.getAttribute("data-no-validate")==="true"||this.validateInput(n)||(t=!1)}),t},validateInput(e){if(e.disabled||e.type==="hidden")return!0;const t=e.getAttribute("data-validate")||e.type,o=e.required||e.getAttribute("data-required")==="true",n=e.value.trim();if(o&&!n)return this.setInputError(e,"This field is required"),!1;if(!n)return!0;switch(t){case"email":if(!this.isValidEmail(n))return this.setInputError(e,"Please enter a valid email address"),!1;break;case"tel":case"phone":if(!this.isValidPhone(n))return this.setInputError(e,"Please enter a valid phone number"),!1;break;case"url":if(!this.isValidUrl(n))return this.setInputError(e,"Please enter a valid URL"),!1;break;case"number":if(!this.isValidNumber(n))return this.setInputError(e,"Please enter a valid number"),!1;break;case"zip":case"zipcode":if(!this.isValidZipCode(n))return this.setInputError(e,"Please enter a valid ZIP code"),!1;break}const s=parseInt(e.getAttribute("minlength")||e.getAttribute("data-minlength")||0),a=parseInt(e.getAttribute("maxlength")||e.getAttribute("data-maxlength")||0);if(s&&n.length<s)return this.setInputError(e,`Please enter at least ${s} characters`),!1;if(a&&n.length>a)return this.setInputError(e,`Please enter no more than ${a} characters`),!1;const i=e.getAttribute("pattern")||e.getAttribute("data-pattern");return i&&!new RegExp(i).test(n)?(this.setInputError(e,e.getAttribute("data-pattern-message")||"Please enter a valid value"),!1):(this.clearInputError(e),!0)},setInputError(e,t){e.classList.add("error");let o=e.parentNode.querySelector(".form-error");o||(o=document.createElement("div"),o.className="form-error",e.parentNode.appendChild(o)),o.textContent=t,o.style.display="block"},clearInputError(e){e.classList.remove("error");const t=e.parentNode.querySelector(".form-error");t&&(t.style.display="none")},submitForm(e){this.setFormLoading(e,!0);const t=new FormData(e),o=e.getAttribute("action")||window.location.href,n=e.getAttribute("method")||"POST";fetch(o,{method:n.toUpperCase(),body:t,headers:{"X-Requested-With":"XMLHttpRequest"}}).then(s=>s.json()).then(s=>{this.setFormLoading(e,!1),s.success?this.handleFormSuccess(e,s):this.handleFormError(e,s)}).catch(s=>{this.setFormLoading(e,!1),this.handleFormError(e,{message:"An error occurred. Please try again."}),console.error("Form submission error:",s)})},submitGhlForm(e){this.setFormLoading(e,!0);const t=new FormData(e),o={};t.forEach((a,i)=>{o[i]=a});const n=e.getAttribute("data-ghl-form"),s=e.getAttribute("data-ghl-endpoint")||window.GHL_FORM_ENDPOINT||"";if(!s){console.error("No GoHighLevel endpoint found"),this.handleFormError(e,{message:"Configuration error. Please contact the administrator."}),this.setFormLoading(e,!1);return}o.formType=n,o.pageUrl=window.location.href,o.pageName=document.title,fetch(s,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}).then(a=>a.json()).then(a=>{this.setFormLoading(e,!1),a.success?this.handleFormSuccess(e,a):this.handleFormError(e,a)}).catch(a=>{this.setFormLoading(e,!1),this.handleFormError(e,{message:"An error occurred. Please try again."}),console.error("GHL form submission error:",a)})},setFormLoading(e,t){t?e.classList.add("form-submitting"):e.classList.remove("form-submitting"),e.querySelectorAll("input, textarea, select, button").forEach(s=>{s.disabled=t});const n=e.querySelector('[type="submit"]');n&&(t?(n.classList.add("submitting"),n.dataset.originalText=n.innerHTML,n.innerHTML="Submitting..."):n.dataset.originalText&&(n.classList.remove("submitting"),n.innerHTML=n.dataset.originalText,delete n.dataset.originalText))},handleFormSuccess(e,t){const o=t.message||"Form submitted successfully!",n=e.querySelector(".form-feedback")||document.createElement("div");e.contains(n)?n.className="form-feedback success":(n.className="form-feedback success",e.appendChild(n)),n.innerHTML=o,n.style.display="block",e.reset(),t.redirect&&setTimeout(()=>{window.location.href=t.redirect},1e3);const s=e.getAttribute("data-success-callback");s&&typeof window[s]=="function"&&window[s](e,t)},handleFormError(e,t){const o=t.message||"An error occurred. Please try again.",n=e.querySelector(".form-feedback")||document.createElement("div");e.contains(n)?n.className="form-feedback error":(n.className="form-feedback error",e.appendChild(n)),n.innerHTML=o,n.style.display="block",t.errors&&Object.entries(t.errors).forEach(([a,i])=>{const r=e.querySelector(`[name="${a}"]`);r&&this.setInputError(r,i)});const s=e.getAttribute("data-error-callback");s&&typeof window[s]=="function"&&window[s](e,t)},isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},isValidPhone(e){return e.replace(/\D/g,"").length>=10},isValidUrl(e){try{return new URL(e),!0}catch(t){return!1}},isValidNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)},isValidZipCode(e){const t=/^\d{5}(?:-\d{4})?$/,o=/^[A-Za-z]\d[A-Za-z][ -]?\d[A-Za-z]\d$/;return t.test(e)||o.test(e)}},h={init(){this.initAnchorLinks(),this.initScrollToTop()},initAnchorLinks(){document.querySelectorAll('a[href^="#"]:not([href="#"])').forEach(t=>{t.addEventListener("click",o=>{const n=t.getAttribute("href"),s=document.querySelector(n);s&&(o.preventDefault(),this.scrollToElement(s,t.dataset.offset))})})},initScrollToTop(){const e=document.querySelector(".scroll-to-top");e&&(e.addEventListener("click",t=>{t.preventDefault(),this.scrollToTop()}),window.addEventListener("scroll",()=>{window.pageYOffset>300?e.classList.add("active"):e.classList.remove("active")}))},scrollToElement(e,t=0){const o=e.getBoundingClientRect().top+window.pageYOffset,n=parseInt(t)||0,s=o-n;window.scrollTo({top:s,behavior:"smooth"});const a=e.getAttribute("id");a&&window.history.pushState(null,null,`#${a}`)},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}},p={init(){this.setupTracking(),this.setupForms(),this.setupChatWidget(),this.setupPhoneTracking(),this.setupButtonTracking()},setupTracking(){window.ghlConfig||(window.ghlConfig={locationId:"7DUwt2e161ox8kn5pDDU",source:"website",campaign:"smart_website_landing"}),this.trackPageView(),this.setupScrollDepthTracking()},trackPageView(){this.sendToGHL("page_view",{page:window.location.pathname,title:document.title,referrer:document.referrer,timestamp:new Date().toISOString()}),typeof gtag!="undefined"&&gtag("event","page_view",{page_title:document.title,page_location:window.location.href,custom_parameter:"scaleup_marketing_site"}),typeof fbq!="undefined"&&fbq("track","PageView")},setupScrollDepthTracking(){let e=[25,50,75,100],t=new Set;window.addEventListener("scroll",()=>{const o=this.getScrollPercent();e.forEach(n=>{o>=n&&!t.has(n)&&(t.add(n),this.trackScrollDepth(n))})})},getScrollPercent(){const e=document.documentElement,t=document.body,o="scrollTop",n="scrollHeight";return(e[o]||t[o])/((e[n]||t[n])-e.clientHeight)*100},trackScrollDepth(e){this.sendToGHL("scroll_depth",{depth:e,page:window.location.pathname,timestamp:new Date().toISOString()})},setupForms(){document.querySelectorAll("[data-ghl-form]").forEach(t=>{t.dataset.ghlInitialized!=="true"&&(t.dataset.ghlInitialized="true",this.trackFormInteractions(t),t.addEventListener("submit",o=>{o.preventDefault(),this.handleGhlFormSubmission(t)}))})},trackFormInteractions(e){const t=e.id||e.dataset.ghlForm;e.querySelectorAll("input, textarea, select").forEach(n=>{n.addEventListener("focus",()=>{this.sendToGHL("form_field_focus",{form:t,field:n.name,timestamp:new Date().toISOString()})}),n.addEventListener("blur",()=>{n.value.trim()&&this.sendToGHL("form_field_complete",{form:t,field:n.name,timestamp:new Date().toISOString()})})})},async handleGhlFormSubmission(e){const t=new FormData(e),o=e.dataset.ghlForm||"general";this.setFormLoading(e,!0);try{const n={firstName:t.get("first_name"),lastName:t.get("last_name"),email:t.get("email"),phone:t.get("phone"),companyName:t.get("business_name"),website:t.get("current_website"),customFields:{website_source:"scaleup_marketing_website",lead_type:o,current_website:t.get("current_website"),pain_points:t.get("message"),page_source:window.location.pathname},tags:["website_lead","smart_website_interest"],source:"website"};t.get("package")&&(n.customFields.selected_package=t.get("package"),n.customFields.package_price=t.get("package_price"),n.tags.push(`package_${t.get("package").toLowerCase()}`));const s=await this.submitToGHL(n);if(s.success)this.showFormSuccess(e,"Thank you! We'll contact you within 24 hours with your free quote."),this.trackConversion(o),o==="pricing"&&setTimeout(()=>{window.location.href="/book-consultation"},2e3);else throw new Error(s.message||"Submission failed")}catch(n){console.error("Form submission error:",n),this.showFormError(e,"Something went wrong. Please try again or call us directly.")}finally{this.setFormLoading(e,!1)}},async submitToGHL(e){const t=window.GHL_FORM_ENDPOINT||"https://hooks.leadconnectorhq.com/hooks/7DUwt2e161ox8kn5pDDU";try{const o=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return await o.json()}catch(o){throw console.error("GHL submission error:",o),o}},setFormLoading(e,t){const o=e.querySelector('button[type="submit"]'),n=o==null?void 0:o.querySelector(".btn-text"),s=o==null?void 0:o.querySelector(".btn-loading");o&&(o.disabled=t,n&&s?t?(n.classList.add("hidden"),s.classList.remove("hidden")):(n.classList.remove("hidden"),s.classList.add("hidden")):o.innerHTML=t?"Submitting...":o.dataset.originalText||"Submit"),e.querySelectorAll("input, textarea, select").forEach(a=>{a.disabled=t})},showFormSuccess(e,t){const o=e.querySelector(".form-message")||this.createMessageElement(e);o.className="form-message p-4 rounded-lg bg-green-100 border border-green-300 text-green-800",o.textContent=t,o.classList.remove("hidden"),e.reset(),setTimeout(()=>{o.classList.add("hidden")},5e3)},showFormError(e,t){const o=e.querySelector(".form-message")||this.createMessageElement(e);o.className="form-message p-4 rounded-lg bg-red-100 border border-red-300 text-red-800",o.textContent=t,o.classList.remove("hidden"),setTimeout(()=>{o.classList.add("hidden")},5e3)},createMessageElement(e){const t=document.createElement("div");return t.className="form-message hidden p-4 rounded-lg",e.appendChild(t),t},setupChatWidget(){var t,o;if(document.querySelector("script[data-widget-id]"))return;window.ghlChatConfig={locationId:((t=window.ghlConfig)==null?void 0:t.locationId)||"7DUwt2e161ox8kn5pDDU",widgetId:"7DUwt2e161ox8kn5pDDU",customData:{source:"website",page:window.location.pathname,campaign:((o=window.ghlConfig)==null?void 0:o.campaign)||"smart_website_landing"}};const e=document.createElement("script");e.src="https://widgets.leadconnectorhq.com/chat-widget/loader.js",e.setAttribute("data-widget-id",window.ghlChatConfig.widgetId),e.setAttribute("data-location-id",window.ghlChatConfig.locationId),document.body.appendChild(e)},setupPhoneTracking(){document.querySelectorAll('a[href^="tel:"]').forEach(t=>{t.dataset.ghlInitialized!=="true"&&(t.dataset.ghlInitialized="true",t.addEventListener("click",()=>{this.trackPhoneClick(t.href)}))})},trackPhoneClick(e){const t=e.replace("tel:","");this.sendToGHL("phone_click",{phone:t,page:window.location.pathname,timestamp:new Date().toISOString()}),typeof gtag!="undefined"&&gtag("event","phone_call",{event_category:"engagement",event_label:t})},setupButtonTracking(){document.querySelectorAll(".btn-primary, .btn-secondary, [data-track-click]").forEach(o=>{o.dataset.ghlInitialized!=="true"&&(o.dataset.ghlInitialized="true",o.addEventListener("click",()=>{const n=o.textContent.trim(),s=o.dataset.trackClick||o.className.includes("btn-primary")?"primary":"secondary";this.trackButtonClick(n,s)}))}),document.querySelectorAll("[data-package]").forEach(o=>{o.dataset.ghlInitialized!=="true"&&(o.dataset.ghlInitialized="true",o.addEventListener("click",n=>{n.preventDefault();const s=o.dataset.package,a=o.dataset.price;this.trackPackageInterest(s,a),this.openPackageForm(s,a)}))})},trackButtonClick(e,t){this.sendToGHL("button_click",{text:e,type:t,page:window.location.pathname,timestamp:new Date().toISOString()})},trackPackageInterest(e,t){this.sendToGHL("package_interest",{package:e,price:t,page:window.location.pathname,timestamp:new Date().toISOString()}),typeof gtag!="undefined"&&gtag("event","package_interest",{event_category:"engagement",event_label:e,value:parseInt(t)||0}),typeof fbq!="undefined"&&fbq("track","ViewContent",{content_name:e,content_type:"product",value:parseInt(t)||0,currency:"USD"})},openPackageForm(e,t){const o=document.querySelector('form[data-ghl-form="pricing"]');if(o){const n=o.querySelector('[name="package"]'),s=o.querySelector('[name="package_price"]');n&&(n.value=e),s&&(s.value=t),o.scrollIntoView({behavior:"smooth",block:"center"});const a=o.querySelector('input:not([type="hidden"])');a&&setTimeout(()=>a.focus(),500)}else{const n=document.querySelector("form[data-ghl-form]");if(n){let s=n.querySelector('[name="package"]'),a=n.querySelector('[name="package_price"]');s||(s=document.createElement("input"),s.type="hidden",s.name="package",n.appendChild(s)),a||(a=document.createElement("input"),a.type="hidden",a.name="package_price",n.appendChild(a)),s.value=e,a.value=t,n.scrollIntoView({behavior:"smooth",block:"center"});const i=n.querySelector('input:not([type="hidden"])');i&&setTimeout(()=>i.focus(),500)}}},trackConversion(e){this.sendToGHL("conversion",{type:e,page:window.location.pathname,timestamp:new Date().toISOString()}),typeof gtag!="undefined"&&gtag("event","conversion",{send_to:"AW-CONVERSION_ID/CONVERSION_LABEL",event_category:"form_submission",event_label:e,value:1}),typeof fbq!="undefined"&&fbq("track","Lead",{content_name:"Smart Website Quote",content_category:e,value:2e3,currency:"USD"})},sendToGHL(e,t){window.ghlConfig&&fetch("https://api.leadconnectorhq.com/events",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer YOUR_API_TOKEN"},body:JSON.stringify({locationId:window.ghlConfig.locationId,event:e,data:t,timestamp:new Date().toISOString()})}).catch(o=>{console.error("Error sending event to GHL:",o)})}};l(async()=>{d.init(),u.init(),m.init(),h.init(),p.init()});import.meta.webpackHot&&import.meta.webpackHot.accept(console.error);
